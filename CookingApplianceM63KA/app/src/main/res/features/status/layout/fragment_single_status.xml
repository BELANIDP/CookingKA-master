<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    xmlns:app="http://schemas.android.com/apk/res-auto">
    <data>
        <import type="android.view.View"/>
        <import type="com.whirlpool.hmi.cooking.viewmodel.CookingViewModelFactory"/>
        <variable
            name="settingViewModel"
            type="com.whirlpool.hmi.settings.SettingsViewModel" />
        <variable
            name="cookingViewModel"
            type="com.whirlpool.hmi.cooking.viewmodel.CookingViewModel" />

        <variable
            name="recipeExecutionViewModel"
            type="com.whirlpool.hmi.cooking.recipeexecution.RecipeExecutionViewModel" />

        <variable
            name="statusFragment"
            type="android.presenter.basefragments.AbstractStatusFragment" />

    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="@dimen/width_app_window"
        android:background="@color/common_solid_black"
        android:layout_height="@dimen/height_app_window">

        <android.presenter.customviews.widgets.status.CookingStatusWidget
            android:id="@+id/singleStatusWidget"
            style="@style/StyleStatusWidgetLayout"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintBottom_toTopOf="@+id/clLowerCavitySelectionLayout"
            app:layout_constraintTop_toTopOf="parent"
            android:layout_marginTop="@dimen/single_status_widget_top_margin"
            app:oven_type="@string/cavity_selection_upper_oven"

            app:status_execution_fragment="@{statusFragment}"
            app:status_execution_view_model="@{cookingViewModel}"
            app:status_execution_state="@{recipeExecutionViewModel.recipeExecutionState}"

            app:status_recipe_text_cooking_state="@{recipeExecutionViewModel.recipeCookingState}"
            app:status_recipe_text_recipe_name="@{recipeExecutionViewModel.recipeName}"
            app:status_recipe_cook_view_model="@{cookingViewModel}"
            app:status_recipe_text_door_state="@{cookingViewModel.doorState.booleanValue()}"
            app:status_recipe_fragment="@{statusFragment}"
            app:status_recipe_recipe_execution_state="@{recipeExecutionViewModel.recipeExecutionState}"

            app:status_temperature_text_cooking_state="@{recipeExecutionViewModel.recipeCookingState}"
            app:status_temperature_text_display_temperature="@{cookingViewModel.ovenDisplayTemperature}"
            app:status_temperature_text_recipe_name="@{recipeExecutionViewModel.recipeName}"
            app:status_temperature_cook_view_model="@{cookingViewModel}"
            app:status_temperature_text_target_temperature="@{recipeExecutionViewModel.targetTemperature}"
            app:status_temperature_fragment="@{statusFragment}"
            app:status_temperature_recipe_execution_state="@{recipeExecutionViewModel.recipeExecutionState}"

            app:status_progress_bar_cook_view_model="@{cookingViewModel}"
            app:status_progress_bar_fragment="@{statusFragment}"
            app:status_progress_bar_basis="@{recipeExecutionViewModel.recipeProgressBasis}"
            app:status_progress_bar_cook_timer_state="@{recipeExecutionViewModel.cookTimerState}"
            app:status_progress_bar_progress_percentage="@{recipeExecutionViewModel.recipeProgressPercentage}"
            app:status_progress_bar_recipe_execution_state="@{recipeExecutionViewModel.recipeExecutionState}"

            app:status_etr_cook_view_model="@{cookingViewModel}"
            app:status_etr_cook_timer_fragment="@{statusFragment}"
            app:status_etr_cook_timer_recipe_timer_state="@{recipeExecutionViewModel.cookTimerState}"
            app:status_etr_cook_timer_remaining_cook_time="@{recipeExecutionViewModel.remainingCookTime}"
            app:status_etr_cook_time_recipe_cooking_state="@{recipeExecutionViewModel.recipeCookingState}"
            app:status_etr_cook_time_probe_current_temperature="@{cookingViewModel.meatProbeTemperature}"
            app:status_etr_cook_time_probe_target_temperature="@{recipeExecutionViewModel.meatProbeTargetTemperature}"
            app:status_etr_cook_time_probe_connection_state="@{cookingViewModel.meatProbeState.booleanValue()}"
            app:status_etr_cook_time_probe_target_temperature_reached="@{recipeExecutionViewModel.targetMeatProbeTemperatureReached}"

            app:status_preheat_cook_view_model="@{cookingViewModel}"
            app:status_preheat_fragment="@{statusFragment}"
            app:status_preheat_door_state="@{cookingViewModel.doorState.booleanValue()}"
            app:status_preheat_notification="@{recipeExecutionViewModel.notification}"
            app:status_preheat_timer_state="@{recipeExecutionViewModel.readySincePreheatTimerState}"
            app:status_preheat_recipe_execution_state="@{recipeExecutionViewModel.recipeExecutionState}"

            app:status_cookTimer_cook_view_model="@{cookingViewModel}"
            app:status_cookTimer_fragment="@{statusFragment}"
            app:status_cookTimer_state="@{recipeExecutionViewModel.cookTimerState}"
            app:status_cookTimer_probe_temperature_reached="@{recipeExecutionViewModel.targetMeatProbeTemperatureReached.booleanValue()}"
            app:status_cookTimer_recipe_execution_state="@{recipeExecutionViewModel.recipeExecutionState}"

            app:status_user_instruction="@{recipeExecutionViewModel.userInstruction}"
            app:status_user_instruction_fragment="@{statusFragment}"
            app:status_user_instruction_cook_view_model="@{cookingViewModel}"

            app:status_door_fragment="@{statusFragment}"
            app:status_door_cook_view_model="@{cookingViewModel}"
            app:status_door_state="@{cookingViewModel.doorState.booleanValue()}"
            />


        <androidx.constraintlayout.widget.ConstraintLayout
            style="@style/StatusFragmentCavitySelectionLayout"
            android:id="@+id/clLowerCavitySelectionLayout"
            android:visibility="@{CookingViewModelFactory.getProductVariantEnum() == CookingViewModelFactory.ProductVariantEnum.COMBO || CookingViewModelFactory.getProductVariantEnum() == CookingViewModelFactory.ProductVariantEnum.DOUBLEOVEN ? View.VISIBLE : View.INVISIBLE}"
            android:onClick="@{statusFragment::onLowerOvenCavityButtonClick}"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintStart_toStartOf="parent">

            <ImageView
                android:id="@+id/lower_cavity_icon"
                style="@style/StatusFragmentCavityIcon"
                android:src="@drawable/ic_lower_cavity"
                tools:ignore="ContentDescription"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toStartOf="@+id/btnLowerCavitySelection"
                app:layout_constraintTop_toTopOf="parent" />
            <TextView
                style="@style/StatusFragmentTitleCavityTextView"
                android:id="@+id/btnLowerCavitySelection"
                android:layout_marginStart="@dimen/cavity_selection_image_width_plus_image_margin"
                android:text="@{@string/text_cavity_selection_setLower}"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                tools:text="Set Lower Oven"
                />
        </androidx.constraintlayout.widget.ConstraintLayout>
        <android.presenter.customviews.widgets.headerbar.NoTitleHeaderBarWidget
            android:id="@+id/oven_header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintEnd_toEndOf="parent"/>
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>